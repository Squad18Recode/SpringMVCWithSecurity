<!DOCTYPE html>
<html lang="pt-br">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Editar de Doador de Reciclavel</title>
<link rel="stylesheet" type="text/css"
	href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
<link rel="stylesheet"
	href="https://demos.creative-tim.com/notus-js/assets/styles/tailwind.css">
<link rel="stylesheet"
	href="https://demos.creative-tim.com/notus-js/assets/vendor/@fortawesome/fontawesome-free/css/all.min.css">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
	crossorigin="anonymous">
<link rel="apple-touch-icon" sizes="180x180"
	href="../../src/icons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32"
	href="../../src/icons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16"
	href="../../src/icons/favicon-16x16.png">
<link rel="manifest" href="../../src/icons/site.webmanifest">
</head>

<style>

body {
    background-image: url(../../assets/textura-reciclar.avif);
    width: 100%;
    height: 100vh;
}

::-webkit-scrollbar {
	width: 12px;
}

::-webkit-scrollbar-track {
	background-color: #f1f1f1;
}

::-webkit-scrollbar-thumb {
	background-color: #888;
	border-radius: 6px;
}

::-webkit-scrollbar-thumb:hover {
	background-color: #555;
}

.logo{
    height: 65px;
    display: inline-block;
    margin-right: 10px;
}

.lef {
    position: relative;
    left: 25px;
}

.navbar {
    position: fixed !important;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 998;
    min-height: 60px;
    background-color: #006400;
    color: white;
    transition: all .3s;
}

a {
    color: #ffff !important;
}

.dropdown-item {
    color: black !important;
}

.section-made {
    margin-top: 55px;
}

.link-btn {
    text-decoration: none;
}

#enviarButton {
    margin-bottom: 5px;
}
</style>

<body class="body">

<div th:replace="~{fragments/navbar :: navbar}"></div>
	<section class=" py-1  section-made">
		<div class="w-full lg:w-8/12 px-4 mx-auto mt-6">
			<img class="logo-conecta" src="../../assets/logo--conecta.png"
				alt="Logo">
			<div
				class="relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-blueGray-100 border-0">
				<div class="rounded-t bg-white mb-0 px-6 py-6">
					<div class="text-center flex justify-between">
						<h6 class="text-blueGray-700 text-xl font-bold">Editar o
							Doador</h6>

					</div>
				</div>
				<div class="flex-auto px-4 lg:px-10 py-10 pt-0">
					<form
						th:action="@{/doadores/editar/{idDoador}(idDoador=${doador.idDoador})}"
						th:object="${doador}" method="post">
						<h6
							class="text-blueGray-400 text-sm mt-3 mb-6 font-bold uppercase">
							Informação pessoal</h6>
						<div class="flex flex-wrap">
						<div class="w-full lg:w-6/12 px-4">
								<div class="relative w-full mb-3">
									<label
										class="block uppercase text-blueGray-600 text-xs font-bold mb-2"
										htmlfor="grid-password"> ID </label> <input type="number"
										class="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
										id="idDoador" th:field="*{idDoador}" readOnly>
								</div>
							</div>
							
							<div class="w-full lg:w-6/12 px-4">
								<div class="relative w-full mb-3">
									<label
										class="block uppercase text-blueGray-600 text-xs font-bold mb-2"
										htmlfor="grid-password"> Email </label> <input type="email"
										class="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
										id="email" th:field="*{email}" required>
								</div>
							</div>
							<div class="w-full lg:w-6/12 px-4">
								<div class="relative w-full mb-3">
									<label
										class="block uppercase text-blueGray-600 text-xs font-bold mb-2"
										htmlfor="grid-password"> Nome </label> <input type="text"
										class="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
										id="nome" th:field="*{nome}" required>
								</div>
							</div>
							<div class="w-full lg:w-6/12 px-4">
								<div class="relative w-full mb-3">
									<label
										class="block uppercase text-blueGray-600 text-xs font-bold mb-2"
										htmlfor="grid-password"> SobreNome </label> <input type="text"
										class="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
										id="sobrenome" th:field="*{sobrenome}" required>
								</div>
							</div>
							
							<div class="w-full lg:w-6/12 px-4">
								<div class="relative w-full mb-3">
									<label
										class="block uppercase text-blueGray-600 text-xs font-bold mb-2"
										htmlfor="grid-password"> Celular (DDD) </label> <input
										name="celular" type="number"
										class="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
										id="telefone" th:field="*{telefone}" required>
								</div>
							</div>
						</div>

						<hr class="mt-6 border-b-1 border-blueGray-300">

						<h6
							class="text-blueGray-400 text-sm mt-3 mb-6 font-bold uppercase">
							Endereço</h6>

						<div class="flex flex-wrap">
							
							<div class="w-full lg:w-4/12 px-4">
								<div class="relative w-full mb-3">
									<label name="cidade"
										class="block uppercase text-blueGray-600 text-xs font-bold mb-2"
										htmlfor="grid-password"> Estado </label> <input name="estado"
										type="text"
										class="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
										id="estado" th:field="*{estado}" required>
								</div>
								<div class="relative w-full mb-3">
									<label
										class="block uppercase text-blueGray-600 text-xs font-bold mb-2"
										htmlfor="grid-password"> Cidade </label> <input name="cidade"
										type="text"
										class="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
										id="cidade" th:field="*{cidade}" required>
								</div>
							</div>
								
							<div class="w-full lg:w-4/12 px-4">
								<div class="relative w-full mb-3">
									<label
										class="block uppercase text-blueGray-600 text-xs font-bold mb-2"
										htmlfor="grid-password"> Rua </label> <input name="rua"
										type="text"
										class="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
										id="endereco" th:field="*{endereco}" required>
								</div>	
								<div class="relative w-full mb-3">
									<label
										class="block uppercase text-blueGray-600 text-xs font-bold mb-2"
										htmlfor="grid-password"> Bairro </label> <input name="bairro"
										type="text"
										class="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
										id="bairro" th:field="*{bairro}" required>
								</div>
							</div>
							
							<div class="w-full lg:w-4/12 px-4">
								<div class="relative w-full mb-3">
									<label
										class="block uppercase text-blueGray-600 text-xs font-bold mb-2"
										htmlfor="grid-password"> Número da casa </label> <input
										type="text"
										class="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
										id="numeroDaCasa" th:field="*{numeroDaCasa}" required>
								</div>
							</div>
							
							<div class="w-full lg:w-4/12 px-4">
								<div class="relative w-full mb-3">
									<label name="cep"
										class="block uppercase text-blueGray-600 text-xs font-bold mb-2"
										htmlfor="grid-password"> CEP </label> <input name="cep"
										type="number"
										class="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
										id="cep" th:field="*{cep}" required>
								</div>
							</div>
						</div>

						<hr class="mt-6 border-b-1 border-blueGray-300">

						<h6
							class="text-blueGray-400 text-sm mt-3 mb-6 font-bold uppercase">
							Fale suas disponibilidades</h6>
						<div class="flex flex-wrap">
							<div class="w-full lg:w-12/12 px-4">
								<div class="relative w-full mb-3">
									<label
										class="block uppercase text-blueGray-600 text-xs font-bold mb-2"
										htmlfor="grid-password"> disponibilidades </label>
									<textarea type="text"
										class="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
										rows="4" id="disponibilidade" th:field="*{disponibilidade}"> </textarea>
								</div>
							</div>
						</div>
						
						<div class="form-group mb-4">
							<h5 class="mt-4">Escolha o Reciclável para Doar</h5>
							<div th:each="reciclavel : ${reciclaveis}">
								<div class="form-check">
									<p>
										<input class="form-check-input" type="checkbox"
											id="reciclaveis-${reciclavel.idReciclavel}" name="reciclavel"
											th:value="${reciclavel.idReciclavel}"
											th:checked="${doador.reciclaveis.contains(reciclavel)}" />
									</p>
									<label class="form-check-label"	
										th:for="'reciclaveis-' + ${reciclavel.idReciclavel}"
										th:text="${reciclavel.tipo}"></label>
								</div>

							</div>
						</div>
						
						<button id="enviarButton"
							class="bg-pink-500 lef text-white active:bg-pink-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150"
							type="submit">Editar</button>
						<button
							class="bg-pink-500 lef text-white active:bg-pink-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150"
							type="button">
							<a class="link-btn" href="../../doadores">Voltar</a>
						</button>
					</form>
					<div>
						<button
							class="bg-pink-500 lef text-white active:bg-pink-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150"
							type="button">
							<a class="link-btn" href="../reciclaveis">Cadastrar
								Reciclavel</a>
						</button>
					</div>
				</div>
			</div>
			<footer class="relative  pt-8 pb-6 mt-2">
				<div class="container mx-auto px-4">
					<div
						class="flex flex-wrap items-center md:justify-between justify-center">
						<div class="w-full md:w-6/12 px-4 mx-auto text-center">
							<div class="text-sm text-blueGray-500 font-semibold py-1">
								<a href="https://www.creative-tim.com/product/notus-js"
									class="text-blueGray-500 hover:text-gray-800" target="_blank"></a>
								<a href="https://www.creative-tim.com"
									class="text-blueGray-500 hover:text-blueGray-800"
									target="_blank"></a>.
								<p>&copy; Empreenda - Todos os direitos reservados.</p>
							</div>
						</div>
					</div>
				</div>
			</footer>
		</div>
	</section>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
		crossorigin="anonymous"></script>
	<script type="text/javascript"
		src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

	<script>
    document.getElementById("enviarButton").addEventListener("click", function () {
      Toastify({
        text: "Atualizado com sucesso",
        duration: 3000,
        destination: "#",
        newWindow: true,
        close: true,
        gravity: "top",
        position: "left",
        stopOnFocus: true,
        style: {
          background: "linear-gradient(to right, #00b09b, #96c93d)",
        },
        onClick: function () {

        }
      }).showToast();
    });


    (function () {

      const cep = document.querySelector("input[name=cep]");

      cep.addEventListener('blur', e => {
        const value = cep.value.replace(/[^0-9]+/, '');
        const url = `https://viacep.com.br/ws/${value}/json/`;

        fetch(url)
          .then(response => response.json())
          .then(json => {

            if (json.logradouro) {
              document.querySelector('input[name=rua]').value = json.logradouro;
              document.querySelector('input[name=bairro]').value = json.bairro;
              document.querySelector('input[name=cidade]').value = json.localidade;
              document.querySelector('input[name=estado]').value = json.uf;
            }


          });
      });

    })();
  </script>
</body>

</html>